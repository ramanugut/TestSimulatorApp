<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Exam Test Application</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Include the Roboto font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&display=swap">
</head>
<body>
    <!-- Floating Header -->
    <div id="floating-header">
        <div id="floating-timer">Time Remaining: <span id="floating-time">00:00</span></div>
        <div id="floating-progress">
            <div id="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
            <div id="progress-text">0%</div>
        </div>
        <!-- Stats Dropdown -->
        <div id="stats-dropdown" class="dropdown">
            <button class="dropbtn">Today's Stats</button>
            <div id="stats-content" class="dropdown-content">
                <!-- Stats will be dynamically inserted here by JavaScript -->
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Header Section -->
        <header>
            <h1>Exam Test Application</h1>
            <p class="app-tagline">Plan your session, stay focused, and finish strong.</p>
        </header>

        <!-- Control Panel -->
        <section id="control-panel" aria-label="Test controls">
            <div class="control-card" id="quick-start-card">
                <h2>Quick Start</h2>
                <p class="card-description">Set your timer and jump straight into the next challenge.</p>
                <div class="control-row">
                    <label class="input-label" for="timer-input">Timer (minutes)</label>
                    <input type="number" id="timer-input" value="30" aria-describedby="timer-help">
                    <div class="control-actions">
                        <button id="start-test">Start Test</button>
                        <button id="pause-timer">Pause Timer</button>
                    </div>
                </div>
                <p id="timer-help" class="assistive-text">You can adjust the timer anytime, even during a test.</p>

                <details class="collapsible" open>
                    <summary>Goals &amp; Focus</summary>
                    <div class="details-content">
                        <div class="control-row">
                            <label class="input-label" for="pass-mark-input">Pass Mark (%)</label>
                            <input type="number" id="pass-mark-input" value="50">
                        </div>
                        <div class="control-row toggle-row">
                            <div>
                                <label class="input-label" for="study-mode-toggle">Study Mode</label>
                                <p class="assistive-text">Reveal answers instantly to learn as you go.</p>
                            </div>
                            <input type="checkbox" id="study-mode-toggle">
                        </div>
                    </div>
                </details>
            </div>

            <div class="control-card" id="library-card">
                <h2>Test Library</h2>
                <p class="card-description">Pick a practice set or bring your own questions.</p>
                <div class="control-row">
                    <label class="input-label" for="test-select">Select Test</label>
                    <select id="test-select">
                        <!-- Options will be dynamically inserted here by JavaScript -->
                    </select>
                </div>
                <details class="collapsible">
                    <summary>Upload &amp; Appearance</summary>
                    <div class="details-content">
                        <div class="control-row">
                            <label class="input-label" for="upload-test-input">Upload Test File</label>
                            <input type="file" id="upload-test-input" accept=".json">
                        </div>
                        <div class="control-row">
                            <button id="dark-mode-toggle" class="wide-button">Toggle Dark Mode</button>
                        </div>
                    </div>
                </details>
            </div>

            <div class="control-card" id="momentum-card">
                <h2>Momentum Tracker</h2>
                <p class="card-description">Stay motivated with progress tips and quick reminders.</p>
                <ul class="momentum-list">
                    <li><strong>Before you start:</strong> Skim the question pool to plan your time.</li>
                    <li><strong>During the test:</strong> Flag tricky questions to revisit later.</li>
                    <li><strong>Need a break?</strong> Pause the timer and pick up right where you left off.</li>
                </ul>
            </div>
        </section>

        <!-- Questions Container -->
        <section id="study-tools">
            <div class="tool-card" id="motivation-card">
                <h2>Motivation Station</h2>
                <p id="motivation-message">Ready to learn something new today?</p>
                <button id="new-motivation">Inspire Me!</button>
            </div>
            <div class="tool-card" id="bookmark-card">
                <h2>Bookmark Navigator</h2>
                <p class="tool-description">Bookmark tricky questions and jump back to them anytime.</p>
                <div id="bookmark-list" class="bookmark-list">No bookmarks yet.</div>
                <button id="cycle-bookmarks">Jump to Next Bookmark</button>
            </div>
            <div class="tool-card" id="achievement-card">
                <h2>Achievement Board</h2>
                <ul id="achievement-list" class="achievement-list">
                    <li class="empty">Complete a test to start earning badges!</li>
                </ul>
            </div>
        </section>

        <main id="questions-container">
            <!-- Questions will be dynamically inserted here using JavaScript -->
        </main>

        <!-- Pagination Controls -->
        <div id="pagination-controls" class="hidden">
            <button id="prev-page">Previous</button>
            <span id="page-info"></span>
            <button id="next-page">Next</button>
        </div>

        <!-- Score Container -->
        <div id="score-container" class="hidden" style="display: none;">
            <h2>Your Score: <span id="score"></span></h2>
            <p id="result-message"></p>
        </div>
    </div>

    <!-- Floating Action Buttons -->
    <div id="floating-actions">
        <button id="submit-test">Submit Test</button>
        <button id="reset-test">Reset Test</button>
        <button id="download-results">Download Results as PDF</button>
    </div>

    <!-- Back to Top Button -->
    <button id="back-to-top" title="Go to top">&#8679;</button>

    <div id="achievement-toast" class="hidden"></div>

    <!-- Link the JavaScript file -->
    <script src="script.js"></script>
    <!-- Load jsPDF Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
</body>
</html>
