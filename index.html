<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StudyFlow Dashboard</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="theme-dark">
    <div class="app-shell">
      <nav class="app-nav">
        <div class="nav-brand">
          <div class="brand-icon">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 2a1 1 0 0 1 .92.61l1.25 2.83 3.06.26a1 1 0 0 1 .57 1.75l-2.32 2.04.68 3a1 1 0 0 1-1.45 1.08L12 12.77l-2.71 1.8a1 1 0 0 1-1.45-1.08l.68-3-2.32-2.04a1 1 0 0 1 .57-1.75l3.06-.26 1.25-2.83A1 1 0 0 1 12 2Z"
                fill="currentColor"
              />
            </svg>
          </div>
          <span class="brand-name">StudyFlow</span>
        </div>
        <div class="nav-links">
          <button class="nav-link active" data-view="dashboard">
            <svg data-lucide="home"></svg>
            <span>Dashboard</span>
          </button>
          <button class="nav-link" data-view="test">
            <svg data-lucide="book-open"></svg>
            <span>Practice</span>
          </button>
        </div>
        <div class="nav-actions">
          <button id="dark-mode-toggle" class="icon-button" aria-label="Toggle theme">
            <svg data-lucide="sun"></svg>
          </button>
          <button id="open-tools" class="icon-button" aria-label="Open study tools">
            <svg data-lucide="settings"></svg>
          </button>
          <button id="open-test-selector" class="primary-button mobile-only">
            <svg data-lucide="play"></svg>
            <span>Choose Test</span>
          </button>
        </div>
      </nav>

      <main class="app-main">
        <section id="dashboard-view" class="view-panel active">
          <div class="hero-card">
            <div class="hero-overlay"></div>
            <div class="hero-content">
              <div class="hero-badge">
                <svg data-lucide="sparkles"></svg>
                <span>Welcome back, Scholar!</span>
              </div>
              <h1>Ready to excel today?</h1>
              <p>Your next achievement is just one test away.</p>
              <div class="hero-actions">
                <button id="dashboard-choose-test" class="primary-button">
                  <svg data-lucide="play"></svg>
                  <span>Choose Test</span>
                </button>
                <button id="dashboard-custom-test" class="ghost-button">
                  <svg data-lucide="zap"></svg>
                  <span>Custom Mix</span>
                </button>
              </div>
            </div>
            <svg class="hero-illustration" viewBox="0 0 200 200" aria-hidden="true">
              <circle cx="100" cy="100" r="90" fill="rgba(255,255,255,0.08)" />
              <path
                d="M60 80h80a10 10 0 0 1 10 10v40a10 10 0 0 1-10 10H60a10 10 0 0 1-10-10V90a10 10 0 0 1 10-10Zm10 16v28h60V96H70Z"
                fill="rgba(255,255,255,0.22)"
              />
            </svg>
          </div>

          <div class="stat-grid">
            <article class="stat-card streak">
              <div class="stat-icon"><svg data-lucide="flame"></svg></div>
              <div class="stat-value" id="streak-value">0</div>
              <div class="stat-label">Day Streak</div>
            </article>
            <article class="stat-card xp">
              <div class="stat-icon"><svg data-lucide="star"></svg></div>
              <div class="stat-value" id="xp-value">0</div>
              <div class="stat-label">Total XP</div>
            </article>
            <article class="stat-card badges">
              <div class="stat-icon"><svg data-lucide="trophy"></svg></div>
              <div class="stat-value" id="badge-value">0</div>
              <div class="stat-label">Badges</div>
            </article>
            <article class="stat-card pass-rate">
              <div class="stat-icon"><svg data-lucide="target"></svg></div>
              <div class="stat-value" id="pass-rate-value">0%</div>
              <div class="stat-label">Pass Rate</div>
            </article>
          </div>

          <div class="dashboard-columns">
            <section class="dashboard-card" aria-labelledby="recent-activity-title">
              <header class="card-header">
                <div class="card-title">
                  <svg data-lucide="trending-up"></svg>
                  <h2 id="recent-activity-title">Recent Activity</h2>
                </div>
                <button id="refresh-activity" class="icon-button" aria-label="Refresh activity">
                  <svg data-lucide="refresh-cw"></svg>
                </button>
              </header>
              <div id="recent-activity" class="activity-list"></div>
            </section>

            <section class="dashboard-card" aria-labelledby="achievements-title">
              <header class="card-header">
                <div class="card-title">
                  <svg data-lucide="award"></svg>
                  <h2 id="achievements-title">Achievements</h2>
                </div>
              </header>
              <div id="achievement-list" class="achievement-list"></div>
            </section>
          </div>

          <section class="dashboard-card" aria-labelledby="available-tests-title">
            <header class="card-header">
              <div class="card-title">
                <svg data-lucide="book-open"></svg>
                <h2 id="available-tests-title">Available Tests</h2>
              </div>
              <button id="dashboard-view-tests" class="ghost-button">
                <span>View All</span>
                <svg data-lucide="chevron-right"></svg>
              </button>
            </header>
            <div id="dashboard-test-grid" class="test-grid"></div>
          </section>
        </section>

        <section id="test-view" class="view-panel">
          <div class="test-toolbar">
            <div class="test-info">
              <h2 id="active-test-title">Select a test to begin</h2>
              <div class="test-meta">
                <span id="question-range">--</span>
                <span class="dot">â€¢</span>
                <span class="timer-display" id="timer-display">30:00</span>
              </div>
            </div>
            <div class="test-actions">
              <button id="start-timer" class="primary-button">
                <svg data-lucide="play"></svg>
                <span>Start Timer</span>
              </button>
              <button id="pause-timer" class="ghost-button">
                <svg data-lucide="pause"></svg>
                <span>Pause</span>
              </button>
              <button id="change-test" class="ghost-button">
                <svg data-lucide="filter"></svg>
                <span>Change</span>
              </button>
            </div>
          </div>

          <div class="progress-bar">
            <div id="progress-indicator"></div>
          </div>

          <div class="view-options">
            <div class="view-toggle-group">
              <span>View:</span>
              <button class="toggle-button active" data-questions="10">10 per page</button>
              <button class="toggle-button" data-questions="all">View all</button>
            </div>
            <div class="page-indicator" id="page-indicator"></div>
          </div>

          <div class="mode-tabs">
            <button class="mode-tab active" data-mode="test">Test</button>
            <button class="mode-tab" data-mode="study">Study</button>
            <button class="mode-tab" data-mode="flashcards">Flashcards</button>
          </div>

          <div id="result-banner" class="result-banner hidden" role="status" aria-live="polite">
            <div class="result-content">
              <div class="result-icon" id="result-emoji">ðŸŽ‰</div>
              <div>
                <h3 id="result-headline">Great job!</h3>
                <p id="result-summary"></p>
              </div>
            </div>
            <div class="result-buttons">
              <button id="restart-test" class="primary-button">Restart Test</button>
              <button id="review-failed" class="ghost-button">Review Missed</button>
              <button id="review-all" class="ghost-button">Review All</button>
            </div>
          </div>

          <div id="flashcard-view" class="flashcard-view hidden">
            <div class="flashcard">
              <div class="flashcard-front" id="flashcard-front"></div>
              <div class="flashcard-back" id="flashcard-back"></div>
            </div>
            <div class="flashcard-actions">
              <button id="flashcard-prev" class="ghost-button">
                <svg data-lucide="chevron-right" class="rotate"></svg>
                <span>Previous</span>
              </button>
              <button id="flashcard-flip" class="primary-button">Flip</button>
              <button id="flashcard-next" class="ghost-button">
                <span>Next</span>
                <svg data-lucide="chevron-right"></svg>
              </button>
            </div>
          </div>

          <div id="questions-container" class="question-list"></div>

          <div id="pagination-controls" class="pagination hidden">
            <button id="prev-page" class="ghost-button">Previous Page</button>
            <div id="pagination-info"></div>
            <button id="next-page" class="ghost-button">Next Page</button>
          </div>

          <div class="test-footer">
            <div class="footer-actions">
              <button id="submit-test" class="primary-button">Submit Test</button>
              <button id="reset-test" class="ghost-button">
                <svg data-lucide="rotate-ccw"></svg>
                <span>Reset</span>
              </button>
              <button id="download-results" class="ghost-button">
                <svg data-lucide="download"></svg>
                <span>Export PDF</span>
              </button>
            </div>
            <div class="footer-settings">
              <label>
                Timer (min)
                <input type="number" id="timer-input" value="30" min="0" />
              </label>
              <label>
                Pass Mark (%)
                <input type="number" id="pass-mark-input" value="50" min="0" max="100" />
              </label>
            </div>
          </div>
        </section>
      </main>
    </div>

    <div id="modal-backdrop" class="modal-backdrop hidden"></div>

    <div id="test-selector-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <header class="modal-header">
          <div class="modal-title">
            <svg data-lucide="book-open"></svg>
            <h2>Choose a Test</h2>
          </div>
          <button class="icon-button" data-close-modal>
            <svg data-lucide="x"></svg>
          </button>
        </header>
        <p class="modal-description">
          Select a test to begin your practice session. Each test comes with unique questions to help you master the material.
        </p>
        <div id="test-selector-list" class="modal-test-grid"></div>
        <footer class="modal-footer">
          <button class="ghost-button" data-close-modal>Cancel</button>
          <button id="open-custom-test" class="primary-button">
            <svg data-lucide="zap"></svg>
            <span>Create Custom Mix</span>
          </button>
        </footer>
      </div>
    </div>

    <div id="custom-test-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <header class="modal-header">
          <div class="modal-title">
            <svg data-lucide="zap"></svg>
            <h2>Create Custom Test</h2>
          </div>
          <button class="icon-button" data-close-modal>
            <svg data-lucide="x"></svg>
          </button>
        </header>
        <p class="modal-description">
          Mix and match questions from multiple tests to create your perfect practice session.
        </p>
        <div id="custom-test-list" class="custom-test-list"></div>
        <div class="custom-test-settings">
          <label>
            Number of Questions
            <input type="number" id="custom-question-count" value="20" min="1" />
          </label>
          <label>
            Timer (minutes)
            <input type="number" id="custom-timer" value="30" min="0" />
          </label>
        </div>
        <div class="custom-test-summary" id="custom-test-summary"></div>
        <footer class="modal-footer">
          <button class="ghost-button" data-close-modal>Cancel</button>
          <button id="start-custom-test" class="primary-button">Start Custom Test</button>
        </footer>
      </div>
    </div>

    <div id="tools-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <header class="modal-header">
          <div class="modal-title">
            <svg data-lucide="settings"></svg>
            <h2>Study Tools</h2>
          </div>
          <button class="icon-button" data-close-modal>
            <svg data-lucide="x"></svg>
          </button>
        </header>
        <div class="tools-grid">
          <section>
            <h3>Quick Settings</h3>
            <div class="tool-card">
              <div>
                <h4>Dark Mode</h4>
                <p>Switch between light and dark themes.</p>
              </div>
              <button id="tools-theme-toggle" class="toggle-switch" role="switch" aria-checked="true"></button>
            </div>
            <div class="tool-card">
              <div>
                <h4>Pass Mark</h4>
                <p>Minimum score required to pass a test.</p>
              </div>
              <input type="number" id="tools-pass-mark" min="0" max="100" />
            </div>
            <div class="tool-card">
              <div>
                <h4>Upload Custom Test</h4>
                <p>Import your own JSON test file.</p>
              </div>
              <label class="upload-button">
                <input type="file" id="upload-test-input" accept=".json" />
                <span>Upload</span>
              </label>
            </div>
          </section>
          <section>
            <h3>Your Progress</h3>
            <div class="progress-summary">
              <div class="summary-card">
                <svg data-lucide="flame"></svg>
                <div>
                  <strong id="stats-tests-taken">0</strong>
                  <span>Tests Taken</span>
                </div>
              </div>
              <div class="summary-card">
                <svg data-lucide="check"></svg>
                <div>
                  <strong id="stats-tests-passed">0</strong>
                  <span>Passed</span>
                </div>
              </div>
              <div class="summary-card">
                <svg data-lucide="x"></svg>
                <div>
                  <strong id="stats-tests-failed">0</strong>
                  <span>Failed</span>
                </div>
              </div>
            </div>
            <button id="stats-reset" class="ghost-button">Reset Statistics</button>
          </section>
        </div>
        <footer class="modal-footer">
          <button class="primary-button" data-close-modal>Done</button>
        </footer>
      </div>
    </div>

    <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>

    <button id="scroll-top" class="scroll-top" aria-label="Back to top">
      <svg data-lucide="chevron-down" class="rotate"></svg>
    </button>

    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="script.js" defer></script>
  </body>
</html>
